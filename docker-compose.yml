version: '2'
services:
  consul:
    extends:
      file: base.yml
      service: base
    image: qnib/alpn-consul
    hostname: nifi-consul
    container_name: nifi-consul
    ports:
     - 8500:8500
    environment:
     - CONSUL_BOOTSTRAP=true

  nifi:
    extends:
      file: base.yml
      service: client
    image: qnib/nifi
    hostname: nifi
    container_name: nifi
    ports:
     - 8080:8080
    
networks:
  nifi-net:
    driver: bridge
